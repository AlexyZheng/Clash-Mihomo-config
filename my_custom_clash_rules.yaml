custom:
  enable_rule_generator: true
  overwrite_original_rules: true


mode: rule
mixed-port: 7897
allow-lan: true
log-level: warning
ipv6: true
external-controller: 127.0.0.1:9090
secret: '1'
unified-delay: true
tun:
  exclude-package: []
  auto-detect-interface: true
  auto-route: true
  device: Mihomo
  dns-hijack:
  - any:53
  mtu: 1500
  stack: system
  strict-route: true
  enable: true
dns:
  enable: true
  default-nameserver:
  - 2a02:6b8::feed:0ff
  - 77.88.8.8:443
  - 77.88.8.1
  - 2400:3200::1
  - 223.6.6.6:443
  - 223.5.5.5
  direct-nameserver-follow-policy: true
  enhanced-mode: fake-ip
  fake-ip-filter:
  - '*.lan'
  - '*.local'
  - '*.arpa'
  - time.*.com
  - ru.pool.ntp.org
  - cn.pool.ntp.org
  - ntp.*.com
  - ntp.ubuntu.com
  - ntp.debian.org
  - time.android.com
  - pool.ntp.org
  - localhost.ptlogin2.qq.com
  fake-ip-filter-mode: blacklist
  fake-ip-range: 198.18.0.1/16
  fallback: null
  fallback-filter:
    geoip: false
    ipcidr:
    - 240.0.0.0/4
    - 0.0.0.0/32
  ipv6: true
  listen: 0.0.0.0:1053
  nameserver:
  - 2606:4700:4700::1111
  - 1.1.1.1
  - https://1.1.1.1/dns-query
  - https://8.8.8.8/dns-query
  - https://8.8.4.4/dns-query
  - quic://dns.adguard.com
  nameserver-policy:
    geosite:cn:
    - 2400:3200::1
    - 119.29.29.29
    - 223.5.5.5
    - 223.6.6.6
    - quic://dns.alidns.com
    geosite:category-ru:
    - 2a02:6b8::feed:0ff
    - 2a02:6b8:0:1::feed:0ff
    - 77.88.8.8
    - 77.88.8.1
    - quic://dns.comss.one
    geosite:google:
    - https://8.8.8.8/dns-query
    - https://8.8.4.4/dns-query
    - https://1.1.1.1/dns-query
    geosite:youtube:
    - https://8.8.8.8/dns-query
    - https://8.8.4.4/dns-query
    - https://1.1.1.1/dns-query
  prefer-h3: false
  respect-rules: false
  use-hosts: true
  use-system-hosts: true
  cache-algorithm: arc
external-ui: ./dashboard
proxy: null
geox-url:
  geoip: https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip-lite.dat
  mmdb: https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country-lite.mmdb
  asn: https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/GeoLite2-ASN.mmdb
geodata-mode: false
append-rules:
- GEOIP,US,ğŸŸ æ¼ç½‘ä¹‹é±¼ ĞĞµĞ¿Ğ¾Ğ¹Ğ¼Ğ°Ğ½Ğ½Ğ°Ñ Ñ€Ñ‹Ğ±Ğ°
external-controller-unix: /var/tmp/verge/verge-mihomo.sock
external-controller-cors:
  allow-private-network: true
  allow-origins:
  - tauri://localhost
  - http://tauri.localhost
  - https://yacd.metacubex.one
  - https://metacubex.github.io
  - https://board.zash.run.place
proxy group: null
prepend-rules:
- GEOIP,private, ğŸ–§ LAN
- RULE-SET,LAN, ğŸ–§ LAN
- RULE-SET,Github,Github
- RULE-SET,telegram_voip_nets,â™»ï¸ è‡ªåŠ¨é€‰æ‹© ĞĞ²Ñ‚Ğ¾Ğ²Ñ‹Ğ±Ğ¾Ñ€,no-resolve,network,tcp,DST-PORT,80/443/5222
- RULE-SET,telegram_voip_nets,â™»ï¸ è‡ªåŠ¨é€‰æ‹© ĞĞ²Ñ‚Ğ¾Ğ²Ñ‹Ğ±Ğ¾Ñ€,no-resolve,network,udp,DST-PORT,596/597/598/599/1400/4000-5000
rule-providers:
  LAN:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/AlexyZheng/Clash-Mihomo-config/refs/heads/main/rules/LAN.yaml
    interval: 86400
    path: ./ruleset/LAN.yaml
    format: yaml
  telegram_voip_nets:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/fernvenue/telegram-cidr-list/refs/heads/master/CIDR.yaml
    interval: 86400
    path: ./ruleset/telegram_voip_nets.yaml
    format: yaml
rules:
- IP-CIDR,185.33.24.229/32,DIRECT,no-resolve
- IP-CIDR,45.83.20.34/32,DIRECT,no-resolve
- IP-CIDR,188.68.53.100/32,DIRECT,no-resolve
- IP-CIDR,45.83.21.107/32,DIRECT,no-resolve
- GEOSITE,category-ai-!cn, âœ¦ï¸ AI
- GEOSITE,youtube, â–¶ Youtube
- GEOSITE,telegram, âŒ² Telegram
- DOMAIN-SUFFIX,my.gov.au, ğŸŸ ä¿„ç¾…æ–¯ Ğ Ğ¤
- DOMAIN-SUFFIX,my.gov.au, ğŸŸ ä¸­å›½ ĞšĞĞ 
- DOMAIN-SUFFIX,Ğ¼Ğ²Ğ´.Ñ€Ñ„, ğŸ‡·ğŸ‡º ä¿„ç¾…æ–¯å›½å…§ Ğ Ğ¤ Ğ’ Ğ¿Ñ€ĞµĞ´ĞµĞ»Ğ°Ñ…
- GEOIP,RU, ğŸ‡·ğŸ‡º ä¿„ç¾…æ–¯å›½å…§ Ğ Ğ¤ Ğ’ Ğ¿Ñ€ĞµĞ´ĞµĞ»Ğ°Ñ…
- GEOSITE,category-ru, ğŸ‡·ğŸ‡º ä¿„ç¾…æ–¯å›½å…§ Ğ Ğ¤ Ğ’ Ğ¿Ñ€ĞµĞ´ĞµĞ»Ğ°Ñ…
- GEOIP,CN, ğŸ‡¨ğŸ‡³ ä¸­å›½å›½å…§ ĞšĞĞ  Ğ’ Ğ¿Ñ€ĞµĞ´ĞµĞ»Ğ°Ñ…
- GEOSITE,CN, ğŸ‡¨ğŸ‡³ ä¸­å›½å›½å…§ ĞšĞĞ  Ğ’ Ğ¿Ñ€ĞµĞ´ĞµĞ»Ğ°Ñ…
- GEOSITE,ru-blocked, ğŸŸ ä¿„ç¾…æ–¯ Ğ Ğ¤
- GEOSITE,gfw, ğŸŸ ä¸­å›½ ĞšĞĞ 
- MATCH, ğŸŸ æ¼ç½‘ä¹‹é±¼ Ğ£ÑĞºĞ¾Ğ»ÑŒĞ·Ğ½ÑƒÑ‚ÑŒ

# --- 1. Rule Provider Definition (Fetches Dynamic IPs) ---
  # rule-providers:
   # telegram_voip_nets:
     # type: http
    # This behavior is critical for processing the CIDR list correctly
     # behavior: ipcidr
     # url: "https://raw.githubusercontent.com/fernvenue/telegram-cidr-list/refs/  # heads/master/CIDR.yaml"
    #  interval: 86400 # Checks for updates daily
   #   path: ./ruleset/telegram_voip_nets.yaml

# --- 2. Rules Section (Applies Selective Filtering) ---
  #rules:
  # TCP Signaling Traffic: Targets the dynamic IP list on call setup ports (80, 443, 5222)
   # - RULE-SET,telegram_voip_nets,Telegram,no-resolve,network,tcp,DST-PORT,80/443/5222

  # UDP Media Traffic: Targets the dynamic IP list on real-time media ports (596-599, 1400, 4000-5000)
   # - RULE-SET,telegram_voip_nets,Telegram,no-resolve,network,udp,DST-PORT,596/597/598/599/1400/4000-5000

  # Placeholder for other general rules that subconverter will append later.
  # (e.g., GEOIP, FINAL MATCH, etc.)
  # If you are using a base template, ensure standard rules are included here or added by subconverter.
